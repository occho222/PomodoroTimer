<?xml version="1.0" encoding="utf-8"?>
<Window x:Class="PomodoroTimer.Views.TaskDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Add Task" Height="350" Width="450"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="{StaticResource BackgroundLight}">
    
    <Border Background="White" Margin="20" CornerRadius="10" Padding="30">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <TextBlock Text="Add New Task" FontSize="20" FontWeight="Bold" 
                       Margin="0,0,0,20" Foreground="{StaticResource TextLight}"/>

            <TextBlock Grid.Row="1" Text="Task Name:" Margin="0,0,0,5" FontWeight="SemiBold"/>
            <TextBox Grid.Row="2" Text="{Binding TaskTitle, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                     Margin="0,0,0,15" Padding="8" FontSize="14"/>

            <TextBlock Grid.Row="3" Text="Estimated Pomodoros:" Margin="0,0,0,5" FontWeight="SemiBold"/>
            <Grid Grid.Row="4" Margin="0,0,0,15">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <Slider Value="{Binding EstimatedPomodoros, Mode=TwoWay}" 
                        Minimum="1" Maximum="10" 
                        IsSnapToTickEnabled="True" TickFrequency="1"
                        VerticalAlignment="Center"/>
                
                <TextBlock Grid.Column="1" 
                           Text="{Binding EstimatedPomodoros, StringFormat={}{0} Pomodoros}" 
                           VerticalAlignment="Center" Margin="15,0,0,0" 
                           FontWeight="Bold" FontSize="14"/>
            </Grid>

            <TextBlock Grid.Row="5" Text="Description (Optional):" Margin="0,0,0,5" FontWeight="SemiBold"/>
            <TextBox Grid.Row="6" Text="{Binding TaskDescription, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                     TextWrapping="Wrap" AcceptsReturn="True"
                     Margin="0,0,0,20" Padding="8" FontSize="14"
                     VerticalScrollBarVisibility="Auto"/>

            <StackPanel Grid.Row="7" Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Content="Cancel" Click="Cancel_Click" Width="100" Margin="0,0,10,0" 
                        Style="{StaticResource RoundButton}" Background="Gray"/>
                <Button Content="Add" Click="OK_Click" Width="100" 
                        Style="{StaticResource RoundButton}"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>